<!DOCTYPE html>
<html lang="es-MX">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/e-commerce/client/assets/favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/e-commerce/client/src/css/output.css">
  <title>Editar Perfil - Chillemonroll</title>
  <style>
    .hidden {
      display: none;
    }

    .selected {
      background-color: #3b82f6;
      color: #fff;
    }

    .preview-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 1rem;
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-300 to-purple-300 flex flex-col">
  <header class="bg-white shadow-md w-full" id="header"></header>

  <main class="container mx-auto p-8 bg-white rounded-lg shadow-lg max-w-lg mt-8">
    <h1 class="text-4xl font-bold text-center text-violet-500 mb-8">Editar Información</h1>

    <!-- Botones para alternar entre formularios -->
    <div class="flex justify-center mb-8">
      <button id="edit-profile-btn"
        class="section-btn bg-violet-500 text-white py-2 px-4 rounded-l hover:bg-blue-500 transition">Editar
        Perfil</button>
      <button id="edit-shipping-btn"
        class="section-btn bg-violet-500 text-white py-2 px-4 hover:bg-blue-500 transition">Editar Dirección</button>
      <button id="edit-payment-btn"
        class="section-btn bg-violet-500 text-white py-2 px-4 rounded-r hover:bg-blue-500 transition">Editar Método de
        Pago</button>
    </div>

    <!-- Formulario de Edición de Perfil -->
    <form id="edit-profile-form" class="hidden">
      <h2 class="text-2xl font-semibold text-center text-violet-500 mb-4">Editar Perfil de Usuario</h2>
      <div class="mb-6 text-center">
        <img id="profile-preview" src="/e-commerce/client/assets/default-profile.png" alt="Imagen de Perfil"
          class="preview-image mx-auto">
        <label class="block text-gray-700 mb-2" for="profile-image">Imagen de Perfil</label>
        <input type="file" id="profile-image" accept="image/*"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          onchange="previewImage(event)">
      </div>
      <div class="mb-6">
        <label for="username" class="block text-gray-700 mb-2">Nombre de Usuario</label>
        <input type="text" id="username" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Tu nombre de usuario">
      </div>
      <div class="mb-6">
        <label for="email" class="block text-gray-700 mb-2">Correo Electrónico</label>
        <input type="email" id="email" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="tu-email@ejemplo.com">
      </div>
      <div class="mb-6">
        <label for="password" class="block text-gray-700 mb-2">Contraseña</label>
        <input type="password" id="password" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Nueva contraseña">
      </div>
      <button type="submit" class="w-full bg-violet-500 text-white py-2 rounded hover:bg-blue-500 transition">Guardar
        Cambios</button>
    </form>

    <!-- Formulario de Dirección -->
    <form id="edit-shipping-form" class="hidden">
      <h2 class="text-2xl font-semibold text-center text-violet-500 mb-4">Datos de Envío</h2>
      <div class="mb-6">
        <label for="address" class="block text-gray-700 mb-2">Dirección</label>
        <input type="text" id="address" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Dirección completa">
      </div>
      <div class="mb-6">
        <label for="zip" class="block text-gray-700 mb-2">Código Postal</label>
        <input type="text" id="zip" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Código Postal">
      </div>
      <div class="mb-6">
        <label for="city" class="block text-gray-700 mb-2">Ciudad</label>
        <input type="text" id="city" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Ciudad">
      </div>
      <div class="mb-6">
        <label for="state" class="block text-gray-700 mb-2">Estado</label>
        <input type="text" id="state" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Estado">
      </div>
      <div class="mb-6">
        <label for="country" class="block text-gray-700 mb-2">País</label>
        <input type="text" id="country" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500" placeholder="País">
      </div>
      <button type="submit" class="w-full bg-violet-500 text-white py-2 rounded hover:bg-blue-500 transition">Guardar
        Dirección</button>
    </form>

    <!-- Formulario de Método de Pago -->
    <form id="edit-payment-form" class="hidden">
      <h2 class="text-2xl font-semibold text-center text-violet-500 mb-4">Método de Pago</h2>
      <div class="mb-6">
        <label for="card-type" class="block text-gray-700 mb-2">Tipo de Tarjeta</label>
        <select id="card-type" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500">
          <option value="">Selecciona tipo de tarjeta</option>
          <option value="Visa">Visa</option>
          <option value="MasterCard">MasterCard</option>
          <option value="American Express">American Express</option>
        </select>
      </div>
      <div class="mb-6">
        <label for="card-name" class="block text-gray-700 mb-2">Nombre en la Tarjeta</label>
        <input type="text" id="card-name" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Nombre en la tarjeta">
      </div>
      <div class="mb-6">
        <label for="card-number" class="block text-gray-700 mb-2">Número de Tarjeta</label>
        <input type="text" id="card-number" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500"
          placeholder="Número de tarjeta">
      </div>
      <div class="mb-6">
        <label for="expiry-date" class="block text-gray-700 mb-2">Fecha de Vencimiento</label>
        <input type="month" id="expiry-date" required
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-500">
      </div>
      <button type="submit" class="w-full bg-violet-500 text-white py-2 rounded hover:bg-blue-500 transition">Guardar
        Método de Pago</button>
    </form>
  </main>

  <footer class="bg-violet-500 text-white py-8 mt-16" id="footer"></footer>

  <script type="module">
    // Alternar formularios y actualizar botón seleccionado
    const editProfileBtn = document.getElementById("edit-profile-btn");
    const editShippingBtn = document.getElementById("edit-shipping-btn");
    const editPaymentBtn = document.getElementById("edit-payment-btn");
    const editProfileForm = document.getElementById("edit-profile-form");
    const editShippingForm = document.getElementById("edit-shipping-form");
    const editPaymentForm = document.getElementById("edit-payment-form");

    function showForm(form) {
      editProfileForm.classList.add("hidden");
      editShippingForm.classList.add("hidden");
      editPaymentForm.classList.add("hidden");
      form.classList.remove("hidden");
    }

    editProfileBtn.addEventListener("click", () => {
      showForm(editProfileForm);
      updateButtonState(editProfileBtn);
    });
    editShippingBtn.addEventListener("click", () => {
      showForm(editShippingForm);
      updateButtonState(editShippingBtn);
    });
    editPaymentBtn.addEventListener("click", () => {
      showForm(editPaymentForm);
      updateButtonState(editPaymentBtn);
    });

    function updateButtonState(activeButton) {
      [editProfileBtn, editShippingBtn, editPaymentBtn].forEach(button => button.classList.remove("selected"));
      activeButton.classList.add("selected");
    }

    // Previsualizar imagen de perfil
    function previewImage(event) {
      const reader = new FileReader();
      reader.onload = () => {
        const profilePreview = document.getElementById("profile-preview");
        profilePreview.src = reader.result;
      };
      reader.readAsDataURL(event.target.files[0]);
    }

    // Mostrar formulario de edición de perfil al cargar la página
    showForm(editProfileForm);
    updateButtonState(editProfileBtn);
  </script>
</body>

</html>